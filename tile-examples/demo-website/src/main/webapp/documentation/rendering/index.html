<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <title>Documentation | Aperture Tiles</title>
    <link rel="stylesheet" type="text/css" href="../../css/all.css">
    <link rel="stylesheet" type="text/css" href="../../jstests/test.css">
    <link rel="stylesheet" href="../../prettify/default.css">
    <link rel="SHORTCUT ICON" href="../../img/aperture-16x16.ico"/>
    <script src="../../lib/jquery.js"></script>
    <script src="../../lib/ga.js"></script>
    <script type="text/javascript" src="../../css/js/syntaxhighlighter_3.0.83/scripts/shCore.js"></script>
	<script type="text/javascript" src="../../css/js/syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script>
	<link href="../../css/js/syntaxhighlighter_3.0.83/styles/shCore.css" rel="stylesheet" type="text/css" />
	<link href="../../css/js/syntaxhighlighter_3.0.83/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div id="header"></div>
<div id="content-strip">
    <div id="header-logo">
        <a href="../../"><img src="../../img/aperture-big.png"></a>
    </div>
    <div id="header-menu">
        <a href="../../" class="overview">&nbsp;</a>
        <a href="../../tour/overview/">Tour</a>
        <a href="../../documentation/setup/" class="selected">Documentation</a>
        <a href="../../demos/twitter/">Demos</a>
        <a href="https://github.com/oculusinfo/aperture-tiles" target="_blank">Download</a>
	
			<span id="testlinks">
				<a href="../../examples/tests.html">Tests</a>
			</span>
    </div>

    <div id="all">
        <div id="submenu">
            <div class="submenu-item" onclick="window.location.assign('../setup/');">
                <div class="submenu-item-background">
                    <div class="submenu-item-number">1</div>
                </div>
                <div class="submenu-item-label">Installation</div>
            </div>
            <div class="submenu-item" onclick="window.location.assign('../generation/');">
                <div class="submenu-item-background">
                    <div class="submenu-item-number">2</div>
                </div>
                <div class="submenu-item-label">Generation</div>
            </div>
            <div class="submenu-item" onclick="window.location.assign('../configuration/');">
                <div class="submenu-item-background">
                    <div class="submenu-item-number">3</div>
                </div>
                <div class="submenu-item-label">Configure</div>
            </div>
            <div class="submenu-item" onclick="window.location.assign('');">
                <div class="submenu-item-background selected">
                    <div class="submenu-item-number">4</div>
                </div>
                <div class="submenu-item-label">Rendering</div>
            </div>
        </div>

        <div id="content">
        	<div class="content-context">
                    <ul class="toc right">
						<li><a href="#Server-side-Tile-Rendering-Configuration">Server-side Tile Rendering Configuration</a>
                         	<ul><li><a href="#Renderer-Options">Renderer Options</a></li></ul></li>
                        <li><a href="#color-Ramps-Configuration">Color Ramps Configuration</a>
                        	<ul><li><a href="#color-Ramp-Types">Color Ramp Types</a></li></ul></li>
                   </ul>
            </div>
            <div class="content-body">
                <h1>Client Side and Server Side Rendering</h1>

                				<a name="Server-side-Tile-Rendering-Configuration"></a>
                <h3>Server-side Tile Rendering Configuration</h3>
                This can be defaulted in the metadata.json file, but easier to set it in the layers.json. The "renderer" parameter will tell the server what to render to the PNG image that is returned as a tile. If the tile set is a grid of bin counts, then the default will be sufficient and renderer need not be specified. Here are two examples where one might specify an alternate renderer:
                <pre class="brush: js; gutter: false;">
{
    "layer": "ndk.twitter.longitude.latitude.link",
    "type": "tile",
    "name": "Twitter Statistics",
    "shortName": "Twitter",          // With this renderer, the a shortName should be specified to display on each tile.
    "ramp": "ware",                  // The color ramp to use in the tile renderer
    "opacity": 0.85,                 // The display opacity of the tile layer
    "renderer": "doublestatistics"   // Render tile's total hit and % coverage as text to the tile.
},
{
    "layer": "ndk.twitter.longitude.latitude.top.hashtags",
    "type": "tile",
    "name": "Top-Tags",
    "renderer": "textscore"          // With this renderer, top keywords will be displayed as a bar chart on each tile.
}
</pre>
                <a name="Renderer-Options"></a>
                <h4>Renderer Options</h4>
                This is not really fully developed. the "renderer" parameter is still just a string but until it is made into an object with sub-options, you can just add them as a sibling parameter. Options shown below:
                <pre class="brush: js; gutter: false;">
{
    ...
    "renderer": "doublestatistics",
    "lineNumber": 1   // If using two different layers with this renderer,
                      // you can stop the text from overlapping by specifying
                      // an indexed-from-zero line number
    ...

    "renderer": "doubleseries", // This is the default for heatmap-type layers.
    // or
    "renderer": "textscrore",
    "transformId": "log10",     // How to distribute the color ramp values - linear or log10
    "ramp": {...}               // See ramp configration details in later section of this page.
}
</pre>      <a name="Color-Ramps-Configuration"></a>
            <H3>Color Ramps Configuration</H3>
                These are configured in the client-side project. The color ramp data in the data/layers.json file can be specified through the "ramp" field. The ramp field will take either a string name or an object with a 'name' field and relevant customization parameters. The name string picks the type of color ramp to use.
                <p>
                    Some examples:
                <p>
                    1. Selects the 'ware' color ramp with default parameters.
                <pre class="brush: js; gutter: false;">"ramp": "ware"</pre>
                2. Selects a flat green color for all returned data.
                <pre class="brush: js; gutter: false;">"ramp": {
    "name": "flat",
    "color": "green"
}</pre>
                3. Selects the ware color ramp and inverts the color ramp with overrides for different color ranges to use. Also displays the various input types that can be accepted.
                <pre class="brush: js; gutter: false;">"ramp": {
  "name": "ware",
  "inverse": "true",
  "greens": [
    [ 0, 0.25 ],
    [ 0.5, 0.5 ],
    [ 1, 1 ]
  ],
  "blues": [
    [ "0", 0.25 ],
    [ 0.25, "0" ],
    [ 0.85, "0" ],
    [ 1, 1 ]
  ],
  "reds": [
    { "scale":0, "value":"0.25" },
    { "scale":0.25, "value":0.9 },
    { "scale":"0.5", "value":0.1 },
    { "scale":0.75, "value":1 }
  ],
  "alphas": [
    { "0": 0, "1": "0.25" },
    { "0": 0.25, "1": 0.9 },
    { "0": "0.5", "1": 0.1 },
    { "0": 0.75, "1": 1 }
  ]

}</pre>
                4. Selects the single gradient color ramp with a scale that goes between transparent white and opaque green.
                <pre class="brush: js; gutter: false;">"ramp": {
  "name": "single-gradient",
  "from": 0xffffff,
  "from-alpha": 0,
  "to": 0x00ff00,
}</pre>         <a name="color-Ramp-Types"></a>
                <h4>Color Ramp Types</h4>
                <p><strong>'flat'</strong>: Selects a flat single color.<br />: <strong>'color'</strong> = The rgb color to use. Can be specified as integer, hex, or by name.</p>


                <p><strong>'single-gradient'</strong>: A ramp between a 'from' color and a 'to' color.<br />: <em>'inverse'</em> = reverses the direction of the color ramp.<br />: <em>'from'</em> = the starting ramp color. An rgb color. Can be specified as integer, hex, or by name.<br />: <em>'from-alpha'</em> = An alpha value between 0-255.<br />: <em>'to'</em> = the end ramp color. An rgb color. Can be specified as integer, hex, or by name.<br />: <em>'to-alpha'</em> = An alpha value between 0-255.</p>


                <p>The remaining types have the following parameters:<br />: <em>'inverse'</em> = reverses the direction of the color ramp.<br />: <em>'reds'</em> = an array of elements that define the color ramp. Each element can be an array of 2 numbers, or an object with 'scale', and 'value' keys that map to the relevant numbers.<br />: <em>'greens'</em> = see <em>'reds'</em>.<br />: <em>'blues'</em> = see <em>'reds'</em>.<br />: <em>'alphas'</em> = see <em>'reds'</em>.</p>


                <p><strong>'br'</strong>: A blue-green ramp.<br /><strong>'inv-br'</strong>: Inverted blue-green ramp.<br /><strong>'ware'</strong>: A red-yellow-green ramp.<br /><strong>'inv-ware'</strong>: Inverted red-yellow-green ramp.<br /><strong>'grey'</strong>: Full greyscale ramp.<br /><strong>'inv-grey'</strong>: Inverse greyscale ramp.</p>
                

            </div>
        </div>
    </div>
</div>
</body>

<script type="text/javascript">
    SyntaxHighlighter.all()
</script>

</html>
