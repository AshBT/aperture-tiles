<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
	  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <title>Interactive Map Demo</title>
    
    <link rel="stylesheet" href="css/map.css" />
    <link rel="stylesheet" href="css/annotations.css" />
    <link rel="stylesheet" href="css/layercontrols.css" />
    <link rel="stylesheet" href="css/overlay.css" />
    <link rel="stylesheet" href="css/axis.css" />
    <link rel="stylesheet" href="css/description.css" />
    <link rel="stylesheet"
          href="js/libjs/jquery-ui/1.10.3/themes/custom-theme/jquery-ui-1.10.3.custom.css" />
          
    <!--  provide any css overrides in main.css -->

	  <link rel="stylesheet" href="css/main.css" /> 

    <!-- JQuery includes -->
    <script src="js/libjs/jquery/jquery-1.10.2.dev.js"></script>
    <script src="js/libjs/jquery-ui/1.10.3/ui/jquery-ui.js"></script>
    <!-- For resize messages on non-windows -->
    <script src="js/libjs/jquery/jquery.ba-resize.min.js"></script>
    <!-- For pretty formatting of numbers -->
    <script src="js/libjs/jquery-number-format/jquery.number.min.js"></script>

    <!-- Aperture includes -->
    <script src="js/libjs/aperture/js-dependencies/proj4js.js"></script>
    <script src="js/libjs/aperture/js-dependencies/OpenLayers.debug.js"></script>
    <script src="js/libjs/aperture/js-dependencies/raphael.js"></script>
    <script src="js/libjs/aperture/js/aperture.js"></script>
    <!-- <script src="js/aperture-config-map.js"></script> -->

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>

    <!-- Require starts off our own project module heirarchy -->
    <script src="js/libjs/require.js" data-main="js/main.js"></script>
	  <script>
		  <!-- Read in description.html file and append to top of page -->
		  $(function () {
  			$.get("description.html", function (data) {
  				$("#description-container").append(data);
          
          var $desc = $("#description-header");
          var $controls = $("#layer-controls-header");

  				$desc.accordion({
              active: false,
              heightStyle: 'content',
              collapsible: true
          });

          $controls.accordion({ 
              active: false,
              heightStyle: 'content',
              collapsible: true
          });
                  
          var isDescOpen = false;

          $desc.click( function(e){

              if( $(".ui-accordion-header").is(e.target) ) {

                if (isControlsOpen) {
                  $('#description-container').css('overflow-y', 'hidden');
                } else {
                  $('#description-container').css('overflow-y', 'auto');
                }

                var widdy = isDescOpen ? '140px' : '50%';
                $desc.animate({ width: widdy });
                isDescOpen = !isDescOpen;
              }
          });
          
          var isControlsOpen = false;

          $controls.click( function(e){

              if( $(".ui-accordion-header").is(e.target) ) {

                if (isControlsOpen) {
                  $('#layer-controls-container').css('overflow-y', 'hidden');
                } else {
                  $('#layer-controls-container').css('overflow-y', 'auto');
                }
                var widdy = isControlsOpen ? '140px' : '50%';
                $controls.animate({ width: widdy });
                isControlsOpen = !isControlsOpen;
              }
          });


  			});
  		});
  	</script>
  </head>
  <body>
  	<div id="description-header" class="overlay-header" style='right:10px; top:10px;'>
  		<h3>Description</h3>
		  <div id="description-container" class='overlay-container'; ></div>
	  </div>
    <div id="map" class="olMap"> </div>
    <div id="layer-controls-header" class="overlay-header" style='right:10px; bottom:42px;'>
      <h3>Controls</h3>
      <div id="layer-controls-container" class="overlay-container"></div>
    </div>
    
    <br>
  </body>
</html>
